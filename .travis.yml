language: go

#sudo: false # for container based testing

go:
  #- 1.4
  #- 1.5
  - 1.6
  #- tip
#go_import_path

services:
  - postgresql  

before_script:
  - psql -c 'create database e2ee;' -U postgres
  - sudo redis-server /etc/redis/redis.conf --requirepass 'some_password'
  
script: 
  - go get gopkg.in/check.v1
  - go get github.com/stretchr/testify/assert
  - go get github.com/xlab-si/e2ee-server
  - go test ./tests/unit_tests
  - go test ./tests/api_tests
  
 

