{
  "name": "e2ee-server",
  "description": "Role for configuration of End-to-End Encryption Server",
  "json_class": "Chef::Role",
  
  "default_attributes": {
	"redisio" : {
		"default_settings" : {
			"requirepass" : "some_password"
		}
	},
	
	"postgresql": {
		"password": {
		  "postgres": "postgres"
		},
		"config": {
			"listen_addresses" : "127.0.0.1"
		}
	},
	
	"go" : {
		"arch" : "amd64",
		"gopath" : "/home/vagrant/goworkspace", 
		"owner" : "vagrant",
		"packages" : [ 
			"gopkg.in/check.v1",
			"github.com/stretchr/testify/assert",
			"github.com/xlab-si/e2ee-server"
		]
	},
	
	"e2ee" : {
		"private_key" : "/home/vagrant/goworkspace/src/github.com/xlab-si/e2ee-server/settings/keys/server.pem",
		"public_key" : "/home/vagrant/goworkspace/src/github.com/xlab-si/e2ee-server/settings/keys/server.pub",
		"log_file" : "/home/vagrant/e2ee-server.log"
	}
  },
  
  "chef_type": "role",
  
  "run_list": [
    "recipe[apt]",
   	"recipe[redisio]",
	"recipe[redisio::enable]",
	"recipe[golang]",
	"recipe[golang::packages]",
	"recipe[e2ee::database]",
	"recipe[e2ee::setup_keys]",
	"recipe[e2ee::setup_config]",
	"recipe[e2ee]"
  ]
}